<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
      }

      img {
        max-width: 300px;
        max-height: 300px;
      }

      main {
        height: 100vh;

        display: grid;
        align-items: center;

        /* prettier-ignore */
        grid:
          "controls recipe-view" auto
          "recipes  recipe-view" 1fr
          /1fr      2fr;
      }

      section {
        padding: 1rem;
      }

      #controls {
        grid-area: controls;
      }

      #recipes {
        grid-area: recipes;
        overflow-y: auto;

        width: 100%;

        list-style-type: none;

        li {
          padding: 1rem;
          cursor: pointer;
        }
        li:not(:last-child) {
          border-bottom: 1px solid grey;
        }
      }

      #recipe-view {
        grid-area: recipe-view;

        article {
          width: 100%;
        }
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <main>
      <section id="controls">
        <ul id="filters">
          <li id="all"><button>Tout</button></li>
          <li id="salty"><button>Salé</button></li>
          <li id="sweet"><button>Sucré</button></li>
        </ul>
      </section>
      <ul id="recipes">
        <li id="pizza" class="recipe salty">
            <h1>Pizza</h1>
            <input type="text" placeholder="tag" />
            <button class="tag-submit">Ajouter</button>
            <button class="remove-recipe">Voir recette</button>
            <ul class="tags"></ul>
          </li>
        <li id="tiramisu" class="recipe sweet">
            <h1>Tiramisu</h1>
            <input type="text" placeholder="tag" />
            <button class="tag-submit">Ajouter</button>
            <button class="remove-recipe">Voir recette</button>
            <ul class="tags"></ul>
          </li> 
          <li id="soup" class="recipe salty">
            <h1>Soupe</h1>
            <input type="text" placeholder="tag" />
            <button class="tag-submit">Ajouter</button>
            <button class="remove-recipe">Enlever</button>
            <ul class="tags"></ul>
          </li>
          <li id="risotto" class="recipe salty">
            <h1>Risotto</h1>
            <input type="text" placeholder="tag" />
            <button class="tag-submit">Ajouter</button>
            <button class="remove-recipe">Voir recette</button>
            <ul class="tags"></ul>
          </li>
          <li id="cookie" class="recipe sweet">
            <h1>Cookie</h1>
            <input type="text" placeholder="tag" />
            <button class="tag-submit">Ajouter</button>
            <button class="remove-recipe">Voir recette</button>
            <ul class="tags"></ul>
          </li>
          <li id="pudding" class="recipe sweet">
            <h1>Pudding</h1>
            <input type="text" placeholder="tag" />
            <button class="tag-submit">Ajouter</button>
            <button class="remove-recipe">Voir recette</button>
            <ul class="tags"></ul>
          </li>
      </ul>
      <section id="recipe-view">
        <article id="pizza-view">
          <h1>Pizza</h1>
          <img src="./image/pizza.jpg" />
          <ul>
            <li>pâte à pizza</li>
            <li>tomate</li>
            <li>fromage</li>
            <li>sel</li>
          </ul>
          <div>
            <p>
              Étalez une couche de sauce tomate.
            </p>
            <p>
              Ajoutez la mozzarella en tranches, le jambon, les lamelles de poivron.
            </p>
            <p>
              Saupoudrez d'origan et ajoutez un filet d'huile d'olive.
            </p>
            <p>
              Faites cuire dans un four préchauffé à 220°C.
            </p>
            <p>
              La pâte doit être dorée et croustillante, et le fromage bien fondu.
            </p>
          </div>
        </article>
        <article id="tiramisu-view">
          <h1>Tiramisu</h1>
          <img src="./image/tiramisu.jpg" />
          <ul>
            <li>crème fraiche</li>
            <li>terre</li>
            <li>sucre en poudre</li>
            <li>café</li>
          </ul>
          <div>
            <p>
              Trempez rapidement les biscuits à la cuillère dans le café, 
              sans les détremper.
            </p>
            <p>
              Dans un saladier, fouettez les jaunes d'œufs avec le sucre 
              jusqu'à ce que le mélange blanchisse.
            </p>
            <p>
              Montez les blancs d'œufs en neige ferme avec une pincée de sel.
            </p>
            <p>
              ajoutez une couche de crème au mascarpone,répétez 
              l'opération en terminant par une couche de crème.
            </p>
            <p>
              Saupoudrez le dessus de terre.
            </p>
          </div>
        </article>
        <article id="soup-view">
          <h1>Soupe</h1>
          <img src="./image/soup.jpg" />
          <ul>
            <li>1L d'eau</li>
            <li>sel</li>
            <li>3 grenouille</li>
            <li>pierre</li>
            <li>1kg de sable</li>       
          </ul>
          <div>
            <p>Dans une casserole, faites revenir la viande avec l'ail et l'huile de sésame
               pour la faire brunir.
              </p>
              <p>Ajoutez les algues et la sauce soja pendant une minute pour mélanger les saveurs.
               </p>
               <p>Couvrir et laissez mijoter pendant environ 30 min/1h00 le temps que la soupe 
                devienne plus épaisse et laiteuse.
               </p>
          </div>
        </article>
        <article id="risotto-view">
          <h1>Risotto</h1>
          <img src="./image/risotto.jpg" />
          <ul>
            <li>des fruits</li>
            <li>de la pierre</li>
            <li>des épices d'Italie</li>
            <li>du beurre</li>
          </ul>
          <div>
            <p>
                Dans une casserole, faites revenir 
                l’oignon avec l’huile d’olive jusqu’à ce qu’il soit translucide.
            </p>
            <p>
                Ajoutez le riz et faites-le nacrer.
            </p>
            <p>
                Ajoutez le bouillon chaud, louche par louche,
                en remuant constamment.
            </p>
            <p>
                1.5 L d'eau- 2 gousses d'ail écrasées.
            </p>
            <p>
                Mélangez bien pour obtenir une texture crémeuse.
                Salez, poivrez et servez immédiatement.
            </p>
          </div>
        </article>
        <article id="cookie-view">
          <h1>Cookie</h1>
          <img src="./image/cookie.jpg" />
          <ul>
            <li>1000g beurre</li>
            <li>3000 pepites de chocolats</li>
            <li>2L de lait</li>
            <li>300g de sucre</li>
          </ul>
          <div>
            <p>
              Faire fondre le beurre pendant 2h.
            </p>
            <p>
              Mélangez le beurre avec le sucre jusqu'a que ça devienne rose.
            </p>
            <p>
              Ajoutez le lait, melanger et faites des boules.
            </p>
            <p>
              Mettre au foure pendant 1h à 500C.
            </p>
          </article>
            <article id="pudding-view">
              <h1>Pudding</h1>
              <img src="./image/pudding.jpg" />
              <ul>
                <li>beaucoup de lait </li>
                <li>un peu de sel</li>
                <li>une pincé de beurre</li>
                <li>très peu de canelle</li>
              </ul>
              <div>
                <p>
                  Ajouter le reste du lait en délayant progressivement.
                </p>
                <p>
                  Faites en sorte que la pâte soit souple ni trop épaisse, ni trop liquide.
                </p>
                <p>
                 Verser la pâte dans un moule beurré et faire cuire au four 45/50 min à 190°
                </p>
                <p>
                 Laissez reposer.
                </p>
          </div>
      
        </article>
      </section>
    </main>
    <script>
function hideAllRecipes() {
    document.querySelectorAll(".recipe-view").forEach((recipeView) => {
      recipeView.classList.add("hidden");
    });
  }

hideAllRecipes();

const recipeEls = document.querySelectorAll(".recipe");
const filtersEl = document.querySelector("#filters");

filtersEl.querySelectorAll("li").forEach((filterEl) => {
  filterEl
    .querySelector("button")
    .addEventListener("click", () => filter(filterEl));
});

recipeEls.forEach((recipeEl) => {
  recipeEl.addEventListener("click", () => {
    hideAllRecipes();
    document
      .querySelector(`#${recipeEl.id}-view`)
      .classList.remove("hidden");
  });

  recipeEl.querySelector(".tag-submit").addEventListener("click", () => {
    const newTag = recipeEl.querySelector("input").value;
   

    const existingTag = recipeEl.querySelector(`.tags > .${newTag}`);

    if (existingTag) { 
      return; 
    }

    recipeEl.querySelector(".tags").insertAdjacentHTML(
      "beforeend",
      `
      <div id="fresh-tag" class="tag vegetarian">
        <p>vegetarian</p>
        <button>❌</button>
      </div>
    `
    );

    const newTagEl = document.querySelector("#fresh-tag");
          newTagEl.id = "";

          newTagEl.querySelector("button").addEventListener("click", () => {
            newTagEl.remove();
          });

    
        });
      });

      function filter(filterElement) {
        if (filterElement.id == "all") {
          recipeEls.forEach((recipeEl) => {
            recipeEl.classList.remove("hidden");
          });
        } else {
          recipeEls.forEach((recipeEl) => {
            if (recipeEl.classList.contains(filterElement.id)) {
              recipeEl.classList.remove("hidden");
            } else {
              recipeEl.classList.add("hidden");
            }
          });
        }
      }

      function hideAllRecipes() {
        const recipeViews = document.querySelectorAll("#recipe-view > *");

        for (let i = 0; i < recipeViews.length; i += 1) {
          recipeViews[i].classList.add("hidden");
        }
      }
    </script>
  </body>
</html>
